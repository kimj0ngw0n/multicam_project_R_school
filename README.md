# 유흥시설 개수와 범죄 예방 설치물 빈도 대비 청소년 범죄 빈도 분석


## 개요

### 1. 소개

- 목적 : 상관/회귀 분석 등을 통한 아래의 가설 검증 및 여러 방향에서 분석
- 팀원 : 김종원, 김지우
- 사용 언어 : R
- 소요 기간 : 12일

### 2. 가설

- 지역별로 유흥 시설의 개수와 범죄 예방 설치물 빈도에 따른 비행 청소년 및 학교 폭력 신고 빈도를 분석했다.
- 유흥 시설이 많거나 범죄 예방 설치물 빈도가 낮으면 비행 및 학교 폭력 신고가 잦을 것으로 예상했다.

### 3. 데이터

실질적으로 주제와 관련을 갖고 분석한 큰 데이터는 아래 3개이다.

1. 전국 학교폭력 / 비행청소년 신고 수와 유흥시설 개수 데이터(`.csv`, 이하 `data1`)

    - 전국의 지역별 학교폭력 및 비행 청소년 신고 수, 유흥시설 종류별 개수를 나타낸 데이터이다.
    - 유흥 시설의 종류는 단란 주점, 성인 게임장, 술집, 유흥주점, 클럽을 다뤘다.

2. 전국 비상벨 / 스마트가로등 위치 데이터(`.shp`, 이하 `data2`)

    - 전국의 비상벨 및 스마트 가로등의 지역 및 위치 좌표를 나타낸 데이터이다.
    - `.shp` 파일이므로 전처리를 통해 `.csv` 로 변환해 사용했다.

3. 전국 법정동 코드 데이터(`.csv`, 이하 `data3`)

    - 전국 법정동 코드를 포함한 데이터이다.
    - `data2`와 `data1`을 병합하기 위해 사용했다.


## 목차

1. 데이터 전처리
2. 가설 및 분석 방법 설정
3. 기본 가정 검정
4. 회귀 모델 검정 및 분석
5. 결론
6. 분석의 한계점
7. 후기
8. 기타(데이터 출처)


## 1. 데이터 전처리

최종 데이터 셋을 구축하기 위해 아래 단계를 통해 전처리를 진행했다.

![ppt07p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/32603074-9696-4017-8baf-28817bf73c15)

이렇게 구해진 최종 데이터 셋은 아래와 같다. 여러 소주제를 분석하여 본문에는 유의미한 결과만 기록했다.

![ppt08p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/4131f67c-aaaa-4cc6-97bb-3276030b8244)


## 2. 가설 및 분석 방법 설정

아래는 가장 유의미한 결과를 보이는 소주제 결과이다. 지역의 범위는 대한민국 모든 지역이다.

![ppt21p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/d2a7545e-e215-4eb3-8291-434f6e12b085)


## 3. 회귀 모델 검정 및 분석

아래는 종속변수가 `청소년 비행 신고 빈도` 인 경우의 회귀 모델 검정 결과이다. 단계선택법을 이용해 성인게임장, 술집, 클럽을 최종 독립변수로 선택했다.

회귀 모델, 각 독립변수들은 유의확률이 모두 0.05 미만으로, 유의수준 0.05에서 유의하다. 조정된 결정계수는 약 0.65로 독립변수들이 종속변수를 약 65% 만큼 설명하고 있다.

![ppt22p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/38ffb758-6c28-478b-b792-448036f92f47)

아래는 종속변수가 `학교 폭력 신고 빈도` 인 경우의 회귀 모델 검정 결과이다. 마찬가지로 단계선택법을 이용해 단란 주점, 성인 게임장, 술집, 유흥주점, 클럽을 최종 독립변수로 선택했다.

회귀 모델, 각 독립변수들은 유의확률이 모두 0.05 미만으로, 유의수준 0.05에서 유의하다. 조정된 결정계수는 약 0.48로 독립변수들이 종속변수를 약 48% 만큼 설명하고 있다.

![ppt23p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/df9f5d23-8b01-42f1-abe1-cba520da4b25)


## 4. 기본 가정 검정

다중선형회귀 분석의 경우 선형성, 정규성, 등분산성, 독립성(다중공선성)을 만족해야 한다. 선형성은 위에서 확인했으니, 나머지 가정에 대해 검정해봤다.

1. 독립성(다중공선성)

    vif 다중공선성 검정을 통해 두 모델 모두 다중공선성이 없는 것으로 나타난다. 즉, 모든 독립변수가 서로에 대해 독립이다.

![ppt24p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/45a78d02-38b5-4c62-b9c3-7326f619c5aa)

2. 정규성

    Shapiro-Wilk 정규성 검정과 Q-Q plot을 그린 결과, 정규성을 만족하지 못하는 것으로 보인다.

![ppt25p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/b672c25b-a7f6-4584-ad3a-16d742961426)

3. 등분산성

    ncvTest 등분산성 검정 결과, 등분산성을 만족하지 않는 것으로 보인다.

![ppt26p](https://github.com/kimj0ngw0n/multicam_project_R_school/assets/127815502/b9b24750-6ecd-4877-b084-5b8336da7c87)

4. 결과

    독립성은 만족하지만, 정규성과 등분산성은 만족하지 않는다. 대상의 범위를 전국의 모든 지역으로 설정해서 나타나는 현상으로 생각했고, 분석을 그대로 진행했다.


## 5. 결론

유흥 시설은 청소년의 범죄 빈도에 영향을 끼친다.
단란 주점과 클럽이 많은 지역은 청소년이 많이 거주하지 않아, 오히려 청소년 범죄와 음의 상관관계를 갖는 것으로 보인다.
성인 게임장과 술집, 유흥 주점이 많은 지역은 청소년 범죄와 양의 상관관계를 갖는다.

따라서 청소년이 밀집되어 있는 지역에는 유흥 시설에 제한을 두고, 유흥 시설 밀집 구역에 청소년이 쉽게 접근할 수 없도록 해야 한다.


## 6. 분석의 한계점

1. 유흥 시설이 개장 및 폐장되고 어느 정도의 기간이 지나야 청소년 범죄 빈도에 영향을 끼치는 지 알 수 없다.

2. 학교 폭력 데이터는 2021년 한 해의 신고 통계이고, 비상벨 데이터는 2022년을 기준으로 수집되었다. 따라서 학교 폭력 데이터에 영향을 끼치지 않는 비상벨 데이터(22년도에 새로 설치된 비상벨)가 포함되어 있다.

3. 유의했던 선형 모델이 기본 가정 중 정규성과 등분산성을 만족하지 못했다.


## 7. 후기

1. 분석 방향과 데이터의 중요성에 대해 크게 깨달았다. 처음에 데이터에 대한 이해가 부족해서 어쩔 수 없이 서울특별시만 분석했었다. 하지만 데이터를 더 뜯어보니 모든 데이터가 지역에 대한 정보를 갖고 있어서 전국으로 확대할 수 있었다.

2. 서울특별시로 한정 지은 분석은 의미가 없었지만 전국으로 늘릴 경우 유의미했다. 서울특별시와 나머지 지역 사이의 차이에 대해 추가 분석이 가능할 것 같다.

3. 시간이 촉박해서 프로젝트 진행 과정에서 점점 변수 명을 아무 의미없는 1, 2, 3... 으로 적기 시작하게 되었다. 협업을 하고, 규모가 커지면 필수적인 부분인데 해내지 못해 더 아쉬움이 남았다.

4. 팀원과 함께 분석을 할 수 있어서 재미있었다. 내가 생각하지도 못한 부분을 많이 깨닫게 되었다.


## 8. 기타(데이터 출처)

데이터 출처

- [청소년 범죄, 유흥시설 집계 데이터](https://www.bigdata-policing.kr/product/view?product_id=PRDT_503#review_content_target )
    
- [비상벨 / 스마트 가로등 위치 데이터](https://www.bigdata-policing.kr/product/view?product_id=PRDT_498)
    
- [법정동코드목록 데이터](https://www.code.go.kr/stdcode/regCodeL.do)

참고 자료 

- [법정동 코드 규칙](https://juso.dev/docs/reg-code-api/)
